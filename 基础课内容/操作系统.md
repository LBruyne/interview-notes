## 操作系统

#### 内核态和用户态

- 运行的程序和指令不同：内核态运行操作系统程序，操作硬件，用户态运行用户程序

- 特权指令：只能由操作系统使用、用户程序不能使用的指令。 举例：启动I/O 内存清零 修改程序状态字 设置时钟 允许/禁止终端 停机

  非特权指令：用户程序可以使用的指令。 举例：控制转移 算数运算 取数指令 **访管指令**（使用户程序从用户态陷入内核态）

- **用户态--->内核态：**唯一途径是通过中断、异常、陷入机制（访管指令）

  **内核态--->用户态：**设置程序状态字



#### 进程和线程

- 进程是资源分配的基本单位，线程是独立调度的基本单位。
- 线程之间共享全局变量（堆）、数据、代码段
- 线程间可以通过直接读写同一进程中的数据进行通信，但是进程通信需要借助 IPC

- <img src="imgs/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f50726f6365737353746174652e706e67.png" alt="img" style="zoom:50%;" />

- IPC：管道、信号量、套接字、共享内存



#### 缓存和缓冲

- 缓冲区(buffer)，它是内存空间的一部分。也就是说，在内存空间中预留了一定的存储空间，这些存储空间用来缓冲输入或输出的数据，这部分预留的空间就叫做缓冲区，显然缓冲区是具有一定大小的。

  高速设备与低速设备的不匹配，势必会让高速设备花时间等待低速设备，我们可以在这两者之间设立一个缓冲区。

- CPU的Cache，中文名称是高速缓冲存储器，读写速度很快，几乎与CPU一样。由于CPU的运算速度太快，内存的数据存取速度无法跟上CPU的速度，所以在cpu与内存间设置了cache为cpu的数据快取区。当计算机执行程序时，数据与地址管理部件会预测可能要用到的数据和指令，并将这些数据和指令预先从内存中读出送到Cache。一旦需要时，先检查Cache，若有就从Cache中读取，若无再访问内存，现在的CPU还有一级cache，二级cache。简单来说，Cache就是用来解决CPU与内存之间速度不匹配的问题，避免内存与辅助内存频繁存取数据，这样就提高了系统的执行效率。

- buffer偏重于写，而cache偏重于读



#### Linux命令

- 内存情况 cat /proc/meminfo
- CPU使用率 top
- 查看进程 ps
- 查看文件 ls